<h1>Application Details</h1>

<p><strong>Project:</strong> <%= @application.project.project_title %></p>
<p><strong>Candidate:</strong> <%= @application.user.first_name %> <%= @application.user.last_name %></p>
<p><strong>Status:</strong>
  <span class="badge <%= status_class(@application.status) %>">
    <%= @application.status.titleize %>
  </span>
</p>

<% if current_user == @application.user %>
  <!-- Candidate View -->
  <h3>Status Info</h3>
  <p>
    Your application is currently <strong><%= @application.status %></strong>.
    <br>
    Weâ€™ll notify you once the employer takes action.
  </p>

<% elsif current_user == @application.project.user %>
  <!-- Employer View -->
  <h3>Manage Application</h3>

  <% if @application.status.in?(%w[pending in\ process]) %>
    <%= button_to "Accept", accept_application_path(@application), method: :patch, class: "btn btn-success", data: { turbo_confirm: "Are you sure you want to accept this application?" } %>
    <%= button_to "Reject", reject_application_path(@application), method: :patch, class: "btn btn-danger", data: { turbo_confirm: "Are you sure you want to reject this application?" } %>
  <% else %>
    <p>This application has already been <strong><%= @application.status %></strong>.</p>
  <% end %>
<% end %>
