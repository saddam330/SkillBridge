<div class="container mt-4">
  <p class="text-muted">Home > Internship</p>
  <h1 class="mb-4 fw-bold fs-2">Browse Projects</h1>

  <div class="container-filters">
    <!-- Sidebar Filters -->
    <aside class="col-md-3">
      <div class="card mb-4">
        <div class="card-header d-flex justify-content-between align-items-center">
          <strong><i class="bi bi-filter"></i> Filters</strong>
          <a href="#" class="text-decoration-none text-primary small">Clear all</a>
        </div>
        <div class="card-body">
          <!-- Location Type -->
          <h6 class="text-muted">Location type</h6>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Remote" id="remote">
            <label class="form-check-label" for="remote">Remote</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Hybrid" id="hybrid">
            <label class="form-check-label" for="hybrid">Hybrid</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="On-site" id="onsite">
            <label class="form-check-label" for="onsite">On-site</label>
          </div>

          <hr>

          <!-- Duration -->
          <h6 class="text-muted">Duration</h6>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="1-3" id="short">
            <label class="form-check-label" for="short">1 - 3 months</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="3-6" id="mid">
            <label class="form-check-label" for="mid">3 - 6 months</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="6+" id="long">
            <label class="form-check-label" for="long">6+ months</label>
          </div>

          <hr>

          <!-- Category -->
          <h6 class="text-muted">Category</h6>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Tech" id="tech">
            <label class="form-check-label" for="tech">Tech</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Design" id="design">
            <label class="form-check-label" for="design">Design</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="Data-science" id="data">
            <label class="form-check-label" for="data">Data-science</label>
          </div>
        </div>
      </div>
    </aside>
  </div>

    <!-- Main Projects Area -->
      <%= form_with url: projects_path, method: :get, local: true do %>
      <div class="input-group mb-4">
        <span class="input-group-text">
          <i class="bi bi-search"></i>
        </span>
        <%= text_field_tag :query, params[:query], class: "form-control", placeholder: "Search for projects..." %>
        <button class="btn btn-primary">Search</button>
      </div>
      <% end %>


      <!-- Project Cards -->
    <div class="card-container row row-cols-1 row-cols-md-2 g-4">
      <% @projects.each do |project| %>
        <div class="card mb-3 shadow-sm position-relative">
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <div>
                <h5 class="card-title mb-1"><%= project.project_title %></h5>
                <h6 class="card-subtitle text-muted"><%= project.requirements %></h6>
                <p class="card-text mt-2"><%= truncate(project.project_description, length: 100) %></p>
                <p class="text-muted small">
                  üìç <%= project.location %> |
                  ‚è≥ Duration: <%= project.duration %> |
                  üïí Posted <%= time_ago_in_words(project.created_at) %> ago
                </p>
                <% if project.category.present? %>
                  <span class="badge bg-secondary"><%= project.category %></span>
                <% end %>
              </div>
              <div class="text-end">
                <%= button_to "Apply", apply_project_path(project), method: :post, class: "btn btn-primary" %>
              </div>
            </div>
          </div>
          <button class="btn btn-light border-0 position-absolute bottom-0 end-0 m-2">
             <i class="bi bi-bookmark-fill"></i>
          </button>
        </div>
      <% end %>
    </main>
  </div>
</div>
